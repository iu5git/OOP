<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>lab_3</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="классы-в-c.-работа-с-файлами-массивами-объектов-и-алгоритмами-обработки-данных-(Часть-2)----omit-in-toc---">3 - Классы в C++. Работа с файлами, массивами объектов и алгоритмами обработки данных (Часть 2) <!-- omit in toc --></h1>
<blockquote>
<p>Лабораторная работа 3 для студентов курса “Программирование на основе классов и шаблонов” 2 семестра кафедры ИУ5 МГТУ им Н.Э. Баумана.</p>
</blockquote>
<h2 id="содержание----omit-in-toc---">Содержание <!-- omit in toc --></h2>
<ul>
<li><a href="#%D1%86%D0%B5%D0%BB%D1%8C-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B">Цель работы</a></li>
<li><a href="#%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B">Начало работы</a></li>
<li><a href="#%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5">Задание</a></li>
<li><a href="#%D1%83%D0%BA%D0%B0%D0%B7%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE-%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D1%8E-%D0%BB%D0%B0%D0%B1%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%BD%D0%BE%D0%B9-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B">Указания по выполнению лабораторной работы</a>
<ul>
<li><a href="#%D0%BE%D0%B1%D1%89%D0%B8%D0%B5-%D1%81%D0%BE%D0%B2%D0%B5%D1%82%D1%8B">Общие советы</a></li>
<li><a href="#%D1%80%D0%B5%D0%BA%D0%BE%D0%BC%D0%B5%D0%BD%D0%B4%D1%83%D0%B5%D0%BC%D0%B0%D1%8F-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0-%D0%BC%D0%B5%D0%BD%D1%8E-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B">Рекомендуемая структура меню программы</a></li>
<li><a href="#%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D1%80%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">Требования к реализации</a></li>
</ul>
</li>
<li><a href="#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D1%8B-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D1%83%D1%8E%D1%89%D0%B5%D0%B9-%D0%BA%D0%BB%D0%B0%D1%81%D1%81-planet">Пример программы, использующей класс Planet</a></li>
<li><a href="#%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D0%BE%D1%82%D1%87%D1%91%D1%82%D1%83">Требования к отчёту</a></li>
<li><a href="#%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D0%B2%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B">Контрольные вопросы</a></li>
</ul>
<h2 id="цель-работы">Цель работы</h2>
<p>Цель данной лабораторной работы заключается в освоении навыков:</p>
<ul>
<li>работы с файлами в языке C++ (текстовые файлы);</li>
<li>сохранения и загрузки объектов пользовательских типов;</li>
<li>обработки массивов объектов (добавление и удаление элементов);</li>
<li>сортировки массива объектов по заданному критерию;</li>
<li>поиска объектов по заданным параметрам (для студентов с повышенным уровнем подготовки);</li>
<li>редактирования данных объектов (для студентов с повышенным уровнем подготовки);</li>
<li>применения принципов объектно-ориентированного программирования и стандарта <strong>C++20+</strong>.</li>
</ul>
<hr>
<h2 id="начало-работы">Начало работы</h2>
<p>Зайдите в свою локальную директорию с репозиторием для выполнения лабораторных работ. Заберите ветку с соответствующей лабораторной работой из общего репозитория:</p>
<pre class=" language-sh"><code class="prism  language-sh">git pull upstream
</code></pre>
<p><strong>или</strong></p>
<pre class=" language-sh"><code class="prism  language-sh">git pull upstream lab_1
</code></pre>
<p>Переключитесь на ветку с текущей лабораторной работой:</p>
<pre class=" language-sh"><code class="prism  language-sh">git checkout lab_1
</code></pre>
<p>Свяжите ветку локального репозитория с вашим удаленным репозиторием:</p>
<pre class=" language-sh"><code class="prism  language-sh">git push --set-upstream origin lab_1
</code></pre>
<h2 id="задание">Задание</h2>
<ol>
<li>
<p>Используя класс, разработанный в предыдущей лабораторной работе, расширьте программу следующими возможностями:</p>
</li>
<li>
<p>Реализуйте сохранение массива объектов в текстовый файл.</p>
</li>
<li>
<p>Реализуйте загрузку массива объектов из текстового файла.</p>
</li>
<li>
<p>Реализуйте добавление нового объекта в массив.</p>
</li>
<li>
<p>Реализуйте удаление объекта из массива по заданному критерию (например, по имени или идентификатору).</p>
</li>
<li>
<p>Реализуйте сортировку массива объектов по одному из полей класса.</p>
</li>
<li>
<p><em>(Для сильных студентов)</em> Реализуйте поиск объекта по заданному параметру.</p>
</li>
<li>
<p><em>(Для сильных студентов)</em> Реализуйте редактирование данных выбранного объекта.</p>
</li>
</ol>
<hr>
<h2 id="указания-по-выполнению-лабораторной-работы">Указания по выполнению лабораторной работы</h2>
<h3 id="общие-советы">Общие советы</h3>
<ul>
<li>Используйте стандарт <strong>C++20 или выше</strong>.</li>
<li>Класс должен быть разработан в соответствии с требованиями предыдущей лабораторной работы (инкапсуляция, Rule of Five).</li>
<li><strong>Использование</strong> <code>std::string</code> <strong>запрещено</strong>; допускается работа только с C-строками.</li>
<li>Все операции с массивом объектов должны быть корректными и безопасными.</li>
<li>Работа с файлами должна сопровождаться проверкой успешного открытия файла.</li>
<li>В данной лабораторной работе обязательно использование идиомы <a href="https://fitoliaka.github.io/OOP/Style%20Guide.html#copy-and-swap">copy-and-swap</a> при реализации оператора присваивания.</li>
</ul>
<hr>
<h3 id="рекомендуемая-структура-меню-программы">Рекомендуемая структура меню программы</h3>
<ol>
<li>Загрузка данных из файла</li>
<li>Сохранение данных в файл</li>
<li>Добавление объекта</li>
<li>Удаление объекта</li>
<li>Сортировка массива</li>
<li>Поиск объекта <em>(дополнительно)</em></li>
<li>Редактирование объекта <em>(дополнительно)</em></li>
<li>Вывод массива на экран</li>
<li>Выход</li>
</ol>
<hr>
<h3 id="требования-к-реализации">Требования к реализации</h3>
<ul>
<li>Размер массива объектов должен быть динамическим задаётся константой.</li>
<li>При добавлении элементов контролировать переполнение массиваи если надо предусмотреть возможность расширить его.</li>
<li>При удалении элементов обеспечивать корректное смещение массива.</li>
<li>Для сортировки использовать свою библиотеку .</li>
<li>Поиск реализовать линейным алгоритмом.</li>
<li>Код должен быть модульным и хорошо структурированным.</li>
</ul>
<hr>
<h2 id="пример-программы-использующей-класс-planet">Пример программы, использующей класс Planet</h2>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>

<span class="token keyword">class</span> <span class="token class-name">Planet</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
<span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">;</span>
<span class="token keyword">double</span> mass<span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
<span class="token comment">// Конструкторы и деструктор</span>
<span class="token function">Planet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span>
<span class="token keyword">explicit</span> <span class="token function">Planet</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">,</span> <span class="token keyword">double</span> mass<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Planet</span><span class="token punctuation">(</span><span class="token keyword">const</span> Planet<span class="token operator">&amp;</span> other<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">Planet</span><span class="token punctuation">(</span>Planet<span class="token operator">&amp;&amp;</span> other<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span>
<span class="token operator">~</span><span class="token function">Planet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Операторы присваивания (copy-and-swap)</span>
Planet<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>Planet other<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span>

<span class="token comment">// Методы доступа</span>
<span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> <span class="token function">getMass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">setMass</span><span class="token punctuation">(</span><span class="token keyword">double</span> mass<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Перегрузка потокового ввода-вывода</span>
<span class="token keyword">friend</span> std<span class="token operator">::</span>ostream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std<span class="token operator">::</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword">const</span> Planet<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">friend</span> std<span class="token operator">::</span>istream<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">(</span>std<span class="token operator">::</span>istream<span class="token operator">&amp;</span> is<span class="token punctuation">,</span> Planet<span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<pre class=" language-cpp"><code class="prism  language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"Planet.h"</span></span>

<span class="token keyword">namespace</span><span class="token punctuation">{</span>
	<span class="token keyword">constexpr</span> <span class="token keyword">int</span> previewSize <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">showMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">loadFromFile</span><span class="token punctuation">(</span>Planet<span class="token operator">*</span> planets<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">saveToFile</span><span class="token punctuation">(</span><span class="token keyword">const</span> Planet<span class="token operator">*</span> planets<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">addPlanet</span><span class="token punctuation">(</span>Planet<span class="token operator">*</span> planets<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">removePlanet</span><span class="token punctuation">(</span>Planet<span class="token operator">*</span> planets<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">sortPlanets</span><span class="token punctuation">(</span>Planet<span class="token operator">*</span> planets<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Дополнительные задания (для сильных студентов)</span>
<span class="token keyword">int</span> <span class="token function">findPlanet</span><span class="token punctuation">(</span><span class="token keyword">const</span> Planet<span class="token operator">*</span> planets<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">editPlanet</span><span class="token punctuation">(</span>Planet<span class="token operator">*</span> planets<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">startApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	Planet<span class="token operator">*</span> planets <span class="token operator">=</span> <span class="token keyword">new</span> Planet<span class="token punctuation">[</span>preview Size<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> choice <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span>choice <span class="token operator">!=</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">showMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token operator">::</span>cin <span class="token operator">&gt;&gt;</span> choice<span class="token punctuation">;</span>

	<span class="token keyword">switch</span> <span class="token punctuation">(</span>choice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
			<span class="token function">loadFromFile</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
			<span class="token function">saveToFile</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
			<span class="token function">addPlanet</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
			<span class="token function">removePlanet</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
			<span class="token function">sortPlanets</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
			<span class="token function">findPlanet</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// дополнительно</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span>
			<span class="token function">editPlanet</span><span class="token punctuation">(</span>planets<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// дополнительно</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token keyword">case</span> <span class="token number">8</span><span class="token operator">:</span>
			<span class="token comment">// вывод массива</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<hr>
<h2 id="требования-к-отчёту">Требования к отчёту</h2>
<p>Отчёт по лабораторной работе должен содержать:</p>
<ul>
<li>Титульный лист с указанием дисциплины, номера лабораторной работы, ФИО студента и группы.</li>
<li>Цель лабораторной работы.</li>
<li>Формулировку задания и номер варианта.</li>
<li>Теоретические сведения по теме работы (выполняются рукописно, разборчивым почерком, на отдельном листе бумаги).</li>
<li>Описание структуры проекта и используемых файлов.</li>
<li>Исходный код.</li>
<li>Результаты выполнения программы (скриншоты или вывод в консоль, текстовые файлы).</li>
<li>Выводы по результатам выполненной работы.</li>
</ul>
<hr>
<h2 id="контрольные-вопросы">Контрольные вопросы</h2>
<ol>
<li>Какие классы используются для работы с файлами в C++?</li>
<li>В чём отличие текстового и бинарного файла?</li>
<li>Как сохранить объект пользовательского типа в файл?</li>
<li>Какие способы сортировки массивов вы знаете?</li>
<li>Как выполняется удаление элемента из массива объектов?</li>
<li>Что такое линейный поиск?</li>
<li>Как обеспечить корректное редактирование объекта в массиве?</li>
<li>Какие ошибки могут возникать при работе с файлами?</li>
<li>Что такое <code>explicit</code> в C++?</li>
<li>Как работает <code>noexcept</code> в c++?</li>
<li>Идиома <code>Copy-and-Swap</code> в С++</li>
</ol>
<hr>
</div>
</body>

</html>
