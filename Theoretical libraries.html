<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Theoretical on libraries.md</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><blockquote>
<p>Теоретические сведения по C++ для студентов курса “Программирование на основе классов и шабллонов” кафедры ИУ5 МГТУ им. Н.Э. Баумана.</p>
</blockquote>
<h2 id="содержание----omit-in-toc---">Содержание <!-- omit in toc --></h2>
<ul>
<li><a href="#%D1%81%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B8-%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B8">Статические и динамические библиотеки</a>
<ul>
<li><a href="#%D1%81%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F-%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0"><em>Статическая библиотека</em></a></li>
<li><a href="#%D0%B4%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B0%D1%8F-%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B0"><em>Динамическая библиотека</em></a></li>
<li><a href="#%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B8-%D0%B8%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%B0"><em>Библиотеки импорта</em></a></li>
<li><a href="#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-%D0%B8-%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA">Установка и использование библиотек</a></li>
</ul>
</li>
</ul>
<h3 id="статические-и-динамические-библиотеки">Статические и динамические библиотеки</h3>
<p><code>Библиотека</code> — это набор кода для повторного использования в разных программах. Обычно библиотека C++ состоит из:</p>
<ul>
<li>
<p><code>заголовочного</code> файла (описание функций),</p>
</li>
<li>
<p><code>скомпилированного</code> бинарного файла (реализация).</p>
</li>
</ul>
<p>Библиотеки компилируются заранее, чтобы экономить время и защищать исходный код.</p>
<p>Существуют <strong>два типа библиотек</strong>: статические и динамические.</p>
<h4 id="статическая-библиотека"><em>Статическая библиотека</em></h4>
<p>Статическая библиотека подключается к программе во время компиляции и становится частью исполняемого файла.<br>
Расширения: <code>.lib</code> (Windows), <code>.a</code> (Linux).</p>
<p>Плюсы:</p>
<ul>
<li>нужен только один исполняемый файл;</li>
<li>всегда используется нужная версия библиотеки.</li>
</ul>
<p>Минусы:</p>
<ul>
<li>увеличивает размер программы;</li>
<li>для обновления библиотеки нужно пересобирать приложение.</li>
</ul>
<h4 id="динамическая-библиотека"><em>Динамическая библиотека</em></h4>
<p>Динамическая библиотека загружается во время выполнения и остаётся отдельным файлом.<br>
Расширения: <code>.dll</code> (Windows), <code>.so</code> (Linux).</p>
<p>Плюсы:</p>
<ul>
<li>несколько программ могут использовать одну библиотеку;</li>
<li>библиотеку можно обновлять без пересборки программ.</li>
</ul>
<p>Минусы:</p>
<ul>
<li>сложнее в использовании;</li>
<li>требуется механизм загрузки и подключения.</li>
</ul>
<p>Для упрощения работы с динамическими библиотеками используются <code>библиотеки импорта</code>, которые позволяют работать с ними почти так же, как со статическими.</p>
<h4 id="библиотеки-импорта"><em>Библиотеки импорта</em></h4>
<p><code>Библиотека импорта</code> — это вспомогательная библиотека, которая упрощает использование динамической библиотеки.</p>
<p>В Windows библиотека импорта обычно имеет расширение <code>.lib</code> и связана с динамической библиотекой <code>.dll</code>. Она подключается к программе во время компиляции, а при запуске приложения автоматически загружается соответствующая динамическая библиотека.</p>
<p>В Linux файл <code>.so</code> одновременно выполняет роль динамической библиотеки и библиотеки импорта.</p>
<p>Назначение библиотеки импорта:</p>
<ul>
<li>автоматизирует загрузку динамической библиотеки;</li>
<li>позволяет использовать функции динамической библиотеки так же, как статической;</li>
<li>упрощает компоновку и работу с динамическими библиотеками.</li>
</ul>
<h4 id="установка-и-использование-библиотек">Установка и использование библиотек</h4>
<p><em><strong>Использование библиотеки в C++</strong></em> обычно включает 4 основных шага:</p>
<ol>
<li>
<p><strong>Получить библиотеку</strong> Желательно скачать готовую (скомпилированную) версию для вашей ОС. В Linux — через менеджеры пакетов, в Windows библиотеки часто распространяются как ZIP-архивы.</p>
</li>
<li>
<p><strong>Установить библиотеку</strong> В Linux установка обычно выполняется через менеджер пакетов. В Windows библиотеку чаще всего просто распаковывают в отдельную папку (например, C:\Libs).</p>
</li>
<li>
<p><strong>Указать компилятору путь к заголовочным файлам</strong> Обычно это каталог <code>include</code> библиотеки. В Linux он часто уже находится в стандартном пути поиска.</p>
</li>
<li>
<p><strong>Указать компоновщику путь к файлам библиотеки</strong> Обычно это каталог <code>lib</code>. В Linux стандартный путь — <code>/usr/lib</code>.</p>
</li>
</ol>
<p><em><strong>Использование библиотеки в проекте</strong></em></p>
<p>Для каждого проекта необходимо:</p>
<ol>
<li>
<p><strong>Указать файлы библиотек для компоновки</strong> Требуется для статических библиотек и библиотек импорта.</p>
</li>
<li>
<p><strong>Подключить заголовочные файлы</strong> Это сообщает компилятору о доступных функциях библиотеки.</p>
</li>
<li>
<p><strong>Обеспечить доступ к динамическим библиотекам</strong> В Linux — через стандартные пути или переменную <code>LD_LIBRARY_PATH</code>. В Windows — проще всего разместить .dll рядом с исполняемым файлом.</p>
</li>
</ol>
<hr>
</div>
</body>

</html>
